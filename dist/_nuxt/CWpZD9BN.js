import{_ as D}from"./CwawFfb6.js";import{b as I,a as O,e as R,d as Y,c as j,_ as G}from"./DFyUGPJI.js";import{_ as P}from"./DgWCu1Xm.js";import{s as T,f as $,q as Z,c,b as a,w as t,a as n,B as q,o as _,v as e,d,z as p,t as f,F as S,y as k,A as F,x as H,C as J}from"./D6umD6EU.js";import{_ as K}from"./BE4PzL3t.js";import{_ as x}from"./DuSmvNCM.js";import{u as Q}from"./DMGUMJpM.js";import{u as W}from"./BvyycOJF.js";import"./C-5SdYIA.js";import"./BrmeQhjP.js";import"./FGxZCHJG.js";import"./CucEvqX1.js";const X=n("h3",{class:"text-base sm:text-xl font-semibold tracking-tight mb-4"},"Asosiy ma'lumotlar",-1),ee=["onSubmit"],le={class:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-2 mb-8"},ae={class:"flex flex-col space-y-2"},te={class:"text-xs text-destructive"},se={class:"flex flex-col space-y-2"},oe={class:"text-xs text-destructive"},ne={class:"flex flex-col space-y-2"},de={class:"text-xs text-destructive"},ie={class:"flex flex-col space-y-2"},ue={class:"text-xs text-destructive"},me={class:"flex flex-col space-y-2"},re={class:"text-xs text-destructive"},fe={class:"flex flex-col space-y-2"},_e={class:"relative w-full"},ce=n("span",{class:"absolute top-1/2 -translate-y-1/2 start-0 flex items-center justify-center px-3"},"+ 998 ",-1),pe={class:"text-xs text-destructive"},xe={class:"flex flex-col space-y-2"},ve={class:"flex flex-col space-y-2"},Ve={class:"flex flex-col space-y-2"},be={class:"flex flex-col space-y-2"},he={key:0,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img","font-size":"48",class:"animate-spin iconify iconify--ph w-5 h-5 mr-2",width:"1em",height:"1em",viewBox:"0 0 256 256"},ge=n("path",{fill:"currentColor",d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24m39.11 25.19C170.24 83.71 155 99.44 135 113.61c-2.25-24.48-8.44-49.8-38.37-67.82a87.89 87.89 0 0 1 70.5 3.4ZM40.18 133.54c28.34-20 49.57-14.68 71.87-4.39c-20.05 14.19-38.86 32.21-39.53 67.11a87.92 87.92 0 0 1-32.34-62.72m136.5 67.73c-31.45-14.55-37.47-35.58-39.71-60c12.72 5.86 26.31 10.75 41.3 10.75c11.33 0 23.46-2.8 36.63-10.08a88.2 88.2 0 0 1-38.22 59.33"},null,-1),ye=[ge],Ne={__name:"index",setup(we){const B=[{value:"applicant",name:"Abituriyent"},{value:"pupil",name:"O'quvchi"}],C=Q(),v=W(),{user:s,loading:u}=T(C),{regions:M,districts:A,schools:E}=T(v);return $(()=>{s.value.region!==null&&s.value.region!==void 0&&v.getDistricts(s.value.region)}),$(()=>{s.value.district!==null&&s.value.district!==void 0&&v.getSchools(s.value.district)}),Z(async()=>{await v.getRegions()}),(N,o)=>{const m=D,r=q("VField"),V=I,b=O,h=P,g=R,y=Y,w=j,U=G,z=q("VForm");return _(),c("div",null,[X,a(z,null,{default:t(({handleSubmit:L})=>[n("form",{onSubmit:J(l=>L(e(C).updateUserProfile),["prevent"])},[n("div",null,[n("div",le,[n("div",ae,[a(r,{name:"username",rules:"required|max:60|min:3",modelValue:e(s).username,"onUpdate:modelValue":o[1]||(o[1]=l=>e(s).username=l)},{default:t(({errors:l})=>[a(m,{for:"username"},{default:t(()=>[d("Foylanuvchi nomi (username) ")]),_:1}),a(e(x),{id:"username",type:"text",placeholder:"Fodalanuvchi nomini kiriting",disabled:e(u),class:p(l.length>0?"focus-visible:border-destructive border-destructive":""),modelValue:e(s).username,"onUpdate:modelValue":o[0]||(o[0]=i=>e(s).username=i)},null,8,["disabled","class","modelValue"]),n("span",te,f(l[0]),1)]),_:1},8,["modelValue"])]),n("div",se,[a(r,{name:"first_name",rules:"required|max:60|min:3",modelValue:e(s).first_name,"onUpdate:modelValue":o[3]||(o[3]=l=>e(s).first_name=l)},{default:t(({errors:l})=>[a(m,{for:"first_name"},{default:t(()=>[d("Ism")]),_:1}),a(e(x),{id:"first_name",type:"text",placeholder:"Fodalanuvchi nomi",disabled:e(u),class:p(l.length>0?"focus-visible:border-red-600 border-red-600":""),modelValue:e(s).first_name,"onUpdate:modelValue":o[2]||(o[2]=i=>e(s).first_name=i)},null,8,["disabled","class","modelValue"]),n("span",oe,f(l[0]),1)]),_:1},8,["modelValue"])]),n("div",ne,[a(r,{name:"last_name",rules:"required|max:60|min:3",modelValue:e(s).last_name,"onUpdate:modelValue":o[5]||(o[5]=l=>e(s).last_name=l)},{default:t(({errors:l})=>[a(m,{for:"last_name"},{default:t(()=>[d("Familiya")]),_:1}),a(e(x),{id:"last_name",type:"text",placeholder:"Fodalanuvchi nomi",disabled:e(u),class:p(l.length>0?"focus-visible:border-red-600 border-red-600":""),modelValue:e(s).last_name,"onUpdate:modelValue":o[4]||(o[4]=i=>e(s).last_name=i)},null,8,["disabled","class","modelValue"]),n("span",de,f(l[0]),1)]),_:1},8,["modelValue"])]),n("div",ie,[a(r,{name:"father_name",rules:"max:60|min:3",modelValue:e(s).father_name,"onUpdate:modelValue":o[7]||(o[7]=l=>e(s).father_name=l)},{default:t(({errors:l})=>[a(m,{for:"father_name"},{default:t(()=>[d("Otasining ismi")]),_:1}),a(e(x),{id:"father_name",type:"text",placeholder:"Fodalanuvchi nomi",disabled:e(u),class:p(l.length>0?"focus-visible:border-red-600 border-red-600":""),modelValue:e(s).father_name,"onUpdate:modelValue":o[6]||(o[6]=i=>e(s).father_name=i)},null,8,["disabled","class","modelValue"]),n("span",ue,f(l[0]),1)]),_:1},8,["modelValue"])]),n("div",me,[a(r,{name:"email",rules:"email",modelValue:e(s).email,"onUpdate:modelValue":o[9]||(o[9]=l=>e(s).email=l)},{default:t(({errors:l})=>[a(m,{for:"email"},{default:t(()=>[d("Email")]),_:1}),a(e(x),{id:"email",type:"text",placeholder:"Email",disabled:e(u),class:p(l.length>0?"focus-visible:border-red-600 border-red-600":""),modelValue:e(s).email,"onUpdate:modelValue":o[8]||(o[8]=i=>e(s).email=i)},null,8,["disabled","class","modelValue"]),n("span",re,f(l[0]),1)]),_:1},8,["modelValue"])]),n("div",fe,[a(r,{name:"phone",rules:"phone|max:9",modelValue:e(s).phone,"onUpdate:modelValue":o[11]||(o[11]=l=>e(s).phone=l)},{default:t(({errors:l})=>[a(m,{for:"phone"},{default:t(()=>[d("Telefon raqam")]),_:1}),n("div",_e,[a(e(x),{id:"phone",type:"text",placeholder:"Telefon raqam",disabled:e(u),class:p(["pl-14",l.length>0?"focus-visible:border-red-600 border-red-600":""]),modelValue:e(s).phone,"onUpdate:modelValue":o[10]||(o[10]=i=>e(s).phone=i)},null,8,["disabled","class","modelValue"]),ce]),n("span",pe,f(l[0]),1)]),_:1},8,["modelValue"])]),n("div",xe,[a(r,{name:"usertype"},{default:t(()=>[a(m,{for:"usertype"},{default:t(()=>[d("Yo'nalish ")]),_:1}),a(U,{modelValue:e(s).type,"onUpdate:modelValue":o[12]||(o[12]=l=>e(s).type=l),disabled:e(u)},{default:t(()=>[a(b,null,{default:t(()=>[a(V,{placeholder:"Yo'nalishni tanlang"})]),_:1}),a(w,null,{default:t(()=>[a(y,null,{default:t(()=>[a(h,null,{default:t(()=>[d("Tanlang")]),_:1}),(_(),c(S,null,k(B,(l,i)=>a(g,{key:i+2,value:l.value},{default:t(()=>[d(f(l.name),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})]),n("div",ve,[a(r,{name:"region"},{default:t(()=>[a(m,{for:"region"},{default:t(()=>[d("Viloyat")]),_:1}),a(U,{modelValue:e(s).region,"onUpdate:modelValue":o[13]||(o[13]=l=>e(s).region=l),disabled:e(u),onChange:N.regionS},{default:t(()=>[a(b,null,{default:t(()=>[a(V,{placeholder:"Viloyatni tanlang"})]),_:1}),a(w,null,{default:t(()=>[a(y,null,{default:t(()=>[a(h,null,{default:t(()=>[d("Tanlang")]),_:1}),(_(!0),c(S,null,k(e(M),l=>(_(),F(g,{key:l.id,value:l.id},{default:t(()=>[d(f(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled","onChange"])]),_:1})]),n("div",Ve,[a(r,{name:"district"},{default:t(()=>[a(m,{for:"district"},{default:t(()=>[d("Tuman")]),_:1}),a(U,{modelValue:e(s).district,"onUpdate:modelValue":o[14]||(o[14]=l=>e(s).district=l),disabled:e(s).region===""||e(u)},{default:t(()=>[a(b,null,{default:t(()=>[a(V,{placeholder:"Tumanni tanlang"})]),_:1}),a(w,null,{default:t(()=>[a(y,null,{default:t(()=>[a(h,null,{default:t(()=>[d("Tanlang")]),_:1}),(_(!0),c(S,null,k(e(A),l=>(_(),F(g,{key:l.id,value:l.id},{default:t(()=>[d(f(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})]),n("div",be,[a(r,{name:"school"},{default:t(()=>[a(m,{for:"school"},{default:t(()=>[d("Maktab")]),_:1}),a(U,{modelValue:e(s).school,"onUpdate:modelValue":o[15]||(o[15]=l=>e(s).school=l),disabled:e(s).district===""||e(u)},{default:t(()=>[a(b,null,{default:t(()=>[a(V,{placeholder:"Maktabni tanlang"})]),_:1}),a(w,null,{default:t(()=>[a(y,null,{default:t(()=>[a(h,null,{default:t(()=>[d("Tanlang")]),_:1}),(_(!0),c(S,null,k(e(E),l=>(_(),F(g,{key:l.id,value:l.id},{default:t(()=>[d(f(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})])]),a(e(K),{type:"submit",class:"w-full sm:w-auto",disabled:e(u)},{default:t(()=>[e(u)?(_(),c("svg",he,ye)):H("",!0),d(" Saqlash ")]),_:1},8,["disabled"])])],40,ee)]),_:1})])}}};export{Ne as default};
