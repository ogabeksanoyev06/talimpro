import{_ as H}from"./DWlfqVMk.js";import{s as j,_ as z,u as V,r as A,n as D,q as E,j as I,c as m,a as e,v as n,t as c,x as Q,F as N,y as F,b as g,w as b,o as d,z as R,A as G,d as h,p as K,e as O}from"./CxCRX2HS.js";import{u as B}from"./leHjnFzJ.js";import"./C-5SdYIA.js";import"./Be3E_yng.js";import"./D4tZ26va.js";import"./Dp98Z1pX.js";const U=()=>{const i=B();return j(i),{timerFormat:o=>{let t=parseInt(o,10),u=Math.floor(t/3600),r=Math.floor((t-u*3600)/60),a=t-u*3600-r*60;const f=_=>_<10?`0${_}`:_;return`${f(u)}:${f(r)}:${f(a)}`}}},L=i=>(K("data-v-a0370e71"),i=i(),O(),i),Y={class:"mt-4"},J={class:"container"},P={class:"flex flex-col gap-y-8"},W={class:"flex items-center md:justify-between flex-col md:flex-row gap-3 border-b border-t rounded-lg border-gray-400 py-2 px-4"},X={key:0,class:"text-xl font-semibold"},Z={class:"text-xl font-semibold"},ee={class:"max-w-[200px] w-full border border-green-500 text-center"},te={class:"text-green-500",style:{"font-variant-numeric":"tabular-nums","font-size":"xx-large"}},se={class:"border-b border-t rounded-lg border-gray-400 py-4"},oe={class:"text-sm sm:text-base px-4"},re={style:{"font-size":"1.1rem"}},ae=["innerHTML"],ne=L(()=>e("div",{class:"w-full h-px bg-border my-6"},null,-1)),le={class:"flex flex-col"},ie=["onClick"],ce={class:"text-[1rem] font-bold pl-2 sm:pl-4"},de=["innerHTML"],ue={class:"border-b border-t rounded-lg border-gray-400 py-4 px-4 mb-8"},fe={class:"flex flex-wrap gap-1"},_e=L(()=>e("div",{class:"w-full h-px bg-border my-6"},null,-1)),me={class:"grid grid-cols-1 md:grid-cols-12 gap-4"},pe={class:"md:col-span-6 flex gap-5 justify-center md:justify-start"},ve={class:"md:col-span-6 flex justify-center md:justify-end"},be={__name:"active-test",setup(i){const y=V(),o=A({}),t=D("testActiveNumber",{default:()=>0}),{timerFormat:u}=U(),r=B(),{tests:a,testTimer:f,hasActiveTest:_}=j(r),M=A(["A","B","C","D","E","F","G","H"]),x=s=>{s!==t.value&&(t.value=s,w())},S=()=>{const s=t.value-1;s>=0&&x(s)},$=()=>{const s=t.value+1;s<=(a==null?void 0:a.value.questions.length)-1&&x(s)},w=()=>{var s;o.value=(s=a.value)==null?void 0:s.questions[t.value]};return E(async()=>{if(await r.getActiveTest(),!_.value)return y.push("/profile/tests-results");await r.getTestLiveTime(),r.setTimer(),w()}),I(()=>{t.value=0}),(s,he)=>{var k,T,C;const p=H;return d(),m("div",Y,[e("div",J,[e("div",P,[e("div",W,[n(a).type==="dtm"?(d(),m("h3",X,c(o.value?o.value.science:""),1)):Q("",!0),e("h3",Z,c(n(a).subjectName),1),e("div",ee,[e("span",te,c(n(u)(n(f))),1)])]),e("div",se,[e("div",oe,[e("b",re,c(n(t)+1)+". ",1),e("span",{innerHTML:(k=o.value)==null?void 0:k.question},null,8,ae)]),ne,e("ul",le,[(d(!0),m(N,null,F((T=o.value)==null?void 0:T.answers,(v,l)=>(d(),m("li",{key:l,class:R(["text-sm relative cursor-pointer flex items-start gap-1 p-3 after:absolute after:top-0 after:left-0 after:h-full after:w-1 after:bg-blue-500/45 after:rounded-tr-sm after:rounded-br-sm after:opacity-0 before:absolute before:top-0 before:right-0 before:h-full before:w-1 before:bg-blue-500/45 before:rounded-tl-sm before:rounded-bl-sm before:opacity-0 hover:after:opacity-100 hover:before:opacity-100 transition-all duration-300 group",o.value.answer===l+1?"!bg-blue-500/5 after:opacity-100 before:op ":""]),onClick:q=>n(r).selectAnswer(o.value.id,l+1,o.value.dtmtest_blog)},[e("span",ce,c(M.value[l]+")"),1),e("span",{innerHTML:v},null,8,de)],10,ie))),128))])]),e("div",ue,[e("div",fe,[(d(!0),m(N,null,F((C=n(a))==null?void 0:C.questions,(v,l)=>(d(),G(p,{key:v.id,variant:l===n(t)?"default":v.is_picked?"secondary":"outline",onClick:q=>x(l),class:"h-8 w-[40px]"},{default:b(()=>[h(c(l+1),1)]),_:2},1032,["variant","onClick"]))),128))]),_e,e("div",me,[e("div",pe,[g(p,{onClick:S},{default:b(()=>[h("Oldingi")]),_:1}),g(p,{onClick:$},{default:b(()=>[h("Keyingi")]),_:1})]),e("div",ve,[g(p,{variant:"destructive",onClick:n(r).testFinish},{default:b(()=>[h("Yakunlash")]),_:1},8,["onClick"])])])])])])])}}},Ae=z(be,[["__scopeId","data-v-a0370e71"]]);export{Ae as default};
