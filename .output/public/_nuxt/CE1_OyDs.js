import{d as ee,a as le,_ as ae,c as te,b as se}from"./C2ZNLDNK.js";import{_ as ne}from"./Bim6HQen.js";import{s as z,r as h,G as D,h as A,q as oe,c as _,a as f,b as l,w as e,v as a,A as g,x as N,D as de,o as n,d as s,F as v,y as b,t as d}from"./CxCRX2HS.js";import{u as ue}from"./leHjnFzJ.js";import{_ as ce}from"./DWlfqVMk.js";import{_ as T}from"./KAs9vwKH.js";import{a as k,b as w,c as B,d as S,e as V,_ as $}from"./fiKecmWN.js";import{_ as M}from"./CrUBb4N9.js";import{u as ie}from"./0flJaGmY.js";import{u as re}from"./BLncfRGG.js";import"./C-5SdYIA.js";import"./Be3E_yng.js";import"./D4tZ26va.js";import"./Dp98Z1pX.js";import"./BPIXIwct.js";const _e={class:"py-4"},fe={class:"container"},me={class:"grid grid-cols-12 gap-4 justify-center"},pe={class:"col-span-12 md:col-span-6 lg:col-span-3 flex flex-col space-y-1"},ge={class:"col-span-12 md:col-span-6 lg:col-span-3 flex flex-col space-y-1"},ve={class:"col-span-12 md:col-span-6 lg:col-span-3 flex flex-col space-y-1"},be={class:"col-span-12 md:col-span-6 lg:col-span-3 flex flex-col space-y-1"},ye={class:"col-span-12 md:col-span-6 lg:col-span-9 flex flex-col space-y-1"},he={class:"mt-6"},xe={key:1,class:"relative w-full rounded-lg border px-4 py-4 text-sm bg-background text-center font-semibold text-foreground"},Te={class:"flex justify-center mt-6"},ke={key:0,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img","font-size":"48",class:"animate-spin iconify iconify--ph w-5 h-5 mr-2",width:"1em",height:"1em",viewBox:"0 0 256 256"},we=f("path",{fill:"currentColor",d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24m39.11 25.19C170.24 83.71 155 99.44 135 113.61c-2.25-24.48-8.44-49.8-38.37-67.82a87.89 87.89 0 0 1 70.5 3.4ZM40.18 133.54c28.34-20 49.57-14.68 71.87-4.39c-20.05 14.19-38.86 32.21-39.53 67.11a87.92 87.92 0 0 1-32.34-62.72m136.5 67.73c-31.45-14.55-37.47-35.58-39.71-60c12.72 5.86 26.31 10.75 41.3 10.75c11.33 0 23.46-2.8 36.63-10.08a88.2 88.2 0 0 1-38.22 59.33"},null,-1),Be=[we],Ke={__name:"dtm",setup(Se){const u=ie(),K=ue(),U=re(),{dtmTestBlogsMainSubjects:O,dtmTestBlogsMandatorySubjects:G,loading:Ve}=z(u),{hasActiveTest:I}=z(K),{regions:Y,universities:Z,directions:J}=z(U),P=h([{id:0,name:"O`zbek"}]),Q=[{id:"kunduzgi",name:"Kunduzgi",disabled:!1},{id:"sirtqi",name:"Sirtqi",disabled:!1},{id:"kechki",name:"Kechki",disabled:!1}],j=h(""),y=h(""),E=h(0),C=h("kunduzgi"),m=h(""),q=D(()=>y.value!=="");function W(){if(I.value)de("/active-test");else{const r={blog_ids:u.dtmTestBlogs.map(o=>o.id)};u.startDtmTest(r)}}const L=D(()=>{var r;return(r=G.value)==null?void 0:r.reduce((o,c)=>o+c.ball*c.question_count,0)}),R=D(()=>{var r;return(r=O.value)==null?void 0:r.reduce((o,c)=>o+c.ball*c.question_count,0)});return A(j,async r=>{y.value="",await U.getUniversities({region:r})}),A([y,C],async r=>{m.value="",await U.getUniversityDirection({university:y.value,form_of_education:C.value,edu_lang:"O`zbek"})}),A(m,async r=>{await u.getDtmTestBlogs({educ_direction:m.value})}),oe(()=>{U.getRegions()}),(r,o)=>{const c=le,p=ae,F=ne,i=te,H=se,X=ee;return n(),_("div",_e,[f("div",fe,[f("div",me,[f("div",pe,[l(T,{class:"text-sm"},{default:e(()=>[s("Viloyat")]),_:1}),l(a($),{modelValue:j.value,"onUpdate:modelValue":o[0]||(o[0]=t=>j.value=t)},{default:e(()=>[l(a(k),null,{default:e(()=>[l(a(w),{placeholder:"Viloyatni tanlang"})]),_:1}),l(a(B),null,{default:e(()=>[l(a(S),null,{default:e(()=>[l(a(M),null,{default:e(()=>[s("Tanlang")]),_:1}),(n(!0),_(v,null,b(a(Y),t=>(n(),g(a(V),{key:t.id,value:t.id},{default:e(()=>[s(d(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),f("div",ge,[l(T,{class:"text-sm"},{default:e(()=>[s("Universitet")]),_:1}),l(a($),{modelValue:y.value,"onUpdate:modelValue":o[1]||(o[1]=t=>y.value=t),disabled:j.value===""},{default:e(()=>[l(a(k),null,{default:e(()=>[l(a(w),{placeholder:"Universitetni tanlang"})]),_:1}),l(a(B),null,{default:e(()=>[l(a(S),null,{default:e(()=>[l(a(M),null,{default:e(()=>[s("Tanlang")]),_:1}),(n(!0),_(v,null,b(a(Z),t=>(n(),g(a(V),{key:t.id,value:t.id},{default:e(()=>[s(d(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])]),f("div",ve,[l(T,{class:"text-sm"},{default:e(()=>[s("Test tili")]),_:1}),l(a($),{modelValue:E.value,"onUpdate:modelValue":o[2]||(o[2]=t=>E.value=t),disabled:!q.value},{default:e(()=>[l(a(k),null,{default:e(()=>[l(a(w),{placeholder:"Test tilini tanlang"})]),_:1}),l(a(B),null,{default:e(()=>[l(a(S),null,{default:e(()=>[l(a(M),null,{default:e(()=>[s("Tanlang")]),_:1}),(n(!0),_(v,null,b(P.value,t=>(n(),g(a(V),{key:t.id,value:t.id},{default:e(()=>[s(d(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])]),f("div",be,[l(T,{class:"text-sm"},{default:e(()=>[s("Ta'lim shakli")]),_:1}),l(a($),{modelValue:C.value,"onUpdate:modelValue":o[3]||(o[3]=t=>C.value=t),disabled:!q.value},{default:e(()=>[l(a(k),null,{default:e(()=>[l(a(w),{placeholder:"Ta'lim shaklini tanlang"})]),_:1}),l(a(B),null,{default:e(()=>[l(a(S),null,{default:e(()=>[l(a(M),null,{default:e(()=>[s("Tanlang")]),_:1}),(n(),_(v,null,b(Q,t=>l(a(V),{key:t.id,value:t.id,disabled:t.disabled},{default:e(()=>[s(d(t.name),1)]),_:2},1032,["value","disabled"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])]),f("div",ye,[l(T,{class:"text-sm"},{default:e(()=>[s("Yo'nalish")]),_:1}),l(a($),{modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=t=>m.value=t),disabled:!q.value},{default:e(()=>[l(a(k),null,{default:e(()=>[l(a(w),{placeholder:"Ta'lim yo'nalishini tanlang"})]),_:1}),l(a(B),null,{default:e(()=>[l(a(S),null,{default:e(()=>[l(a(M),null,{default:e(()=>[s("Tanlang")]),_:1}),(n(!0),_(v,null,b(a(J),t=>(n(),g(a(V),{key:t.id,value:t.id},{default:e(()=>[s(d(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])])]),f("div",he,[a(u).dtmTestBlogs.length&&m.value&&a(u).dtmTestBlogsMainSubjects.length&&a(u).dtmTestBlogsMandatorySubjects.length?(n(),g(X,{key:0,class:"font-medium whitespace-nowrap"},{default:e(()=>[l(F,null,{default:e(()=>[l(p,null,{default:e(()=>[l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s(" # ")]),_:1}),l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s("Majburiy fanlar")]),_:1}),l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s("Testlar soni")]),_:1}),l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s(" Ball")]),_:1})]),_:1})]),_:1}),l(H,{class:"text-center"},{default:e(()=>[(n(!0),_(v,null,b(a(u).dtmTestBlogsMandatorySubjects,(t,x)=>(n(),g(p,{key:x},{default:e(()=>[l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(x+1),1)]),_:2},1024),l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(t.science)+" (majburiy) ",1)]),_:2},1024),l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(t.question_count),1)]),_:2},1024),l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(t.ball),1)]),_:2},1024)]),_:2},1024))),128)),l(p,{class:"!border-b bg-muted"},{default:e(()=>[l(i,{colSpan:"2",class:"p-2 font-bold"},{default:e(()=>[s(" Umumiy ball ")]),_:1}),l(i,{colSpan:"2",class:"p-2 font-bold"},{default:e(()=>[s(d(L.value),1)]),_:1})]),_:1})]),_:1}),l(F,null,{default:e(()=>[l(p,null,{default:e(()=>[l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s(" # ")]),_:1}),l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s("Asosiy fanlar")]),_:1}),l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s("Testlar soni")]),_:1}),l(c,{class:"h-12 px-4 text-center"},{default:e(()=>[s(" Ball")]),_:1})]),_:1})]),_:1}),l(H,{class:"text-center"},{default:e(()=>[(n(!0),_(v,null,b(a(u).dtmTestBlogsMainSubjects,(t,x)=>(n(),g(p,{key:x},{default:e(()=>[l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(x+1),1)]),_:2},1024),l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(t.science),1)]),_:2},1024),l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(t.question_count),1)]),_:2},1024),l(i,{class:"p-2 font-medium"},{default:e(()=>[s(d(t.ball),1)]),_:2},1024)]),_:2},1024))),128)),l(p,{class:"!border-b border-card-foreground bg-muted"},{default:e(()=>[l(i,{colSpan:"2",class:"p-2 font-bold"},{default:e(()=>[s(" Umumiy ball ")]),_:1}),l(i,{colSpan:"2",class:"p-2 font-bold"},{default:e(()=>[s(d(R.value),1)]),_:1})]),_:1}),l(p,{class:"!border-b border-card-foreground"},{default:e(()=>[l(i,{colSpan:"2",class:"p-2 font-bold"},{default:e(()=>[s(" 5ta fan bo'yicha umumiy ball ")]),_:1}),l(i,{colSpan:"2",class:"p-2 font-bold"},{default:e(()=>[s(d(R.value+L.value),1)]),_:1})]),_:1})]),_:1})]),_:1})):N("",!0),!a(u).dtmTestBlogs.length&&m.value&&!a(u).dtmTestBlogsMainSubjects.length&&!a(u).dtmTestBlogsMandatorySubjects.length?(n(),_("div",xe," Tanlangan yo'nalish bo'yicha testlar mavjud emas ")):N("",!0)]),f("div",Te,[l(a(ce),{size:"lg",onClick:W,disabled:!m.value||a(u).loading},{default:e(()=>[a(u).loading?(n(),_("svg",ke,Be)):N("",!0),s(" Testni boshlash ")]),_:1},8,["disabled"])])])])}}};export{Ke as default};
