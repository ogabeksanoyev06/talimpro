import{d as ae,a as le,_ as oe,c as ce,b as ne}from"./C2ZNLDNK.js";import{_ as re}from"./CirCOy6v.js";import{s as ie,L as _e,u as ue,r as de,n as pe,G as O,q as fe,j as me,c as f,a,t as _,z as k,v as d,x as h,F as w,y as T,b as s,w as e,o as p,A as P,d as l}from"./CxCRX2HS.js";import{_ as W}from"./DWlfqVMk.js";import{u as be}from"./nL74ot5q.js";import"./C-5SdYIA.js";import"./Be3E_yng.js";import"./Dp98Z1pX.js";const ve={class:"py-4"},xe={class:"container"},ge={class:"flex flex-col space-y-6"},ye={class:"text-xl font-semibold text-center"},ke={class:"flex flex-col gap-3"},he={class:"question flex items-start text-base"},we={id:"question_number",class:"mr-1"},Te=["innerHTML"],Ce={key:0,class:"!text-green-500"},Be={key:1,class:"text-destructive"},Le={key:2,class:"text-destructive"},Ne={class:"flex flex-col gap-2"},Re={class:"font-semibold"},$e=["innerHTML"],Me={class:"flex flex-wrap gap-1 justify-center"},je={class:"border mt-6"},He={class:"text-green-600",style:{"font-size":"large"}},Ge={__name:"dtm-test",setup(ze){const x=be(),{testResultId:v,answerLabels:Y}=ie(x),g=_e();ue();const t=de({}),m=pe("testNumber",{default:()=>0}),Z=r=>{r!==m.value&&(m.value=r,C())},C=()=>{var r;t.value=(r=v.value)==null?void 0:r.questions[m.value]},B=O(()=>{var r,b;return(b=(r=v.value)==null?void 0:r.blogs)==null?void 0:b.filter(c=>c.type==="basic"&&c.total_ball>0).reduce((c,u)=>c+u.total_ball,0)}),L=O(()=>{var r,b;return(b=(r=v.value)==null?void 0:r.blogs)==null?void 0:b.filter(c=>c.type==="compulsory"&&c.total_ball>0).reduce((c,u)=>c+u.total_ball,0)});return fe(async()=>{await x.getResultTestId({id:g.query.test_id,type:g.query.test_type}),C()}),me(()=>{m.value=0}),(r,b)=>{var N,R,$,M,j,H,z,S,V,A,q,F,Q,D,E,G;const c=le,u=oe,i=ce,ee=ne,se=ae,te=re;return p(),f("div",ve,[a("div",xe,[a("div",ge,[a("h3",ye,_((N=t.value)==null?void 0:N.science),1),a("div",ke,[a("div",{class:k(["flex flex-col gap-2 border-2 p-4",{"border-green-500":((R=t.value)==null?void 0:R.is_correct)&&(($=t.value)==null?void 0:$.is_picked),"border-destructive":((M=t.value)==null?void 0:M.is_picked)&&!((j=t.value)!=null&&j.is_correct),"border-secondary":!((H=t.value)!=null&&H.is_correct&&((z=t.value)!=null&&z.is_picked))&&!((S=t.value)!=null&&S.is_picked&&!t.value.is_correct)}])},[a("div",he,[a("b",we,_(d(m)+1)+". ",1),a("span",{class:"flex flex-wrap",innerHTML:(V=t.value)==null?void 0:V.question},null,8,Te)]),a("div",null,[(A=t.value)!=null&&A.is_correct&&((q=t.value)!=null&&q.is_picked)?(p(),f("span",Ce,"(To'g'ri)")):h("",!0),(F=t.value)!=null&&F.is_picked&&!((Q=t.value)!=null&&Q.is_correct)?(p(),f("span",Be,"(Xato)")):h("",!0),(D=t.value)!=null&&D.is_picked?h("",!0):(p(),f("span",Le,"(Belgilanmagan)"))]),a("ul",Ne,[(p(!0),f(w,null,T((E=t.value)==null?void 0:E.answers,(n,o)=>{var y,I,U,X,J,K;return p(),f("li",{class:k(["text-sm border rounded flex items-start gap-1 p-3",{"border-green-500 text-green-500":((y=t.value)==null?void 0:y.is_correct)&&((I=t.value)==null?void 0:I.is_picked)&&((U=t.value)==null?void 0:U.answer)===o+1,"text-destructive border-destructive":!((X=t.value)!=null&&X.is_correct)&&((J=t.value)==null?void 0:J.is_picked)&&((K=t.value)==null?void 0:K.answer)===o+1}]),key:o},[a("span",Re,_(d(Y)[o]+")"),1),a("span",{innerHTML:n},null,8,$e)],2)}),128))])],2)]),a("div",null,[a("ul",Me,[(p(!0),f(w,null,T((G=d(v))==null?void 0:G.questions,(n,o)=>(p(),P(W,{key:o,variant:n.is_correct&&n.is_picked&&n.answer?"default":!n.is_correct&&n.is_picked&&n.answer?"destructive":"secondary",class:k([[n.is_correct&&n.is_picked&&n.answer?"bg-green-500 hover:bg-green-500":"",o===d(m)?"border-foreground":""],"h-8 w-[40px] border-2"]),onClick:y=>Z(o)},{default:e(()=>[l(_(o+1),1)]),_:2},1032,["variant","class","onClick"]))),128))])]),a("div",je,[s(se,{class:"text-center whitespace-nowrap"},{default:e(()=>[s(ee,null,{default:e(()=>{var n;return[s(u,{class:"text-base"},{default:e(()=>[s(c,{class:"p-4"},{default:e(()=>[l(" Blog fanlari ")]),_:1}),s(c,{class:"p-4"},{default:e(()=>[l(" To'g'ri javoblar ")]),_:1}),s(c,{class:"p-4"},{default:e(()=>[l(" Ball ")]),_:1}),s(c,{class:"p-4"},{default:e(()=>[l("To'plangan ball ")]),_:1})]),_:1}),(p(!0),f(w,null,T((n=d(x).testResultId)==null?void 0:n.blogs,o=>(p(),P(u,{class:"font-medium",key:o.id},{default:e(()=>[s(i,{class:"p-4"},{default:e(()=>[l(_(o.science),1)]),_:2},1024),s(i,{class:"p-4"},{default:e(()=>[a("span",He,_(o.correct_answers),1)]),_:2},1024),s(i,{class:"p-4"},{default:e(()=>[l(_(o.max_ball),1)]),_:2},1024),s(i,{class:"p-4 text-green-600",style:{"font-size":"large"}},{default:e(()=>[l(_(o.total_ball),1)]),_:2},1024)]),_:2},1024))),128)),s(u,null,{default:e(()=>[s(i,{class:"p-4 font-bold text-base",colspan:"4"},{default:e(()=>[l(" Natijalar")]),_:1})]),_:1}),s(u,null,{default:e(()=>[s(i,{class:"p-4 font-semibold text-base",colspan:"2"},{default:e(()=>[l(" Asosiy fandan to'plangan ball:")]),_:1}),s(i,{class:"p-4 font-semibold text-base",colspan:"2"},{default:e(()=>[l(_(d(B)),1)]),_:1})]),_:1}),s(u,null,{default:e(()=>[s(i,{class:"p-4 font-semibold text-base",colspan:"2"},{default:e(()=>[l(" Majburiy fandan to'plangan ball:")]),_:1}),s(i,{class:"p-4 font-semibold text-base",colspan:"2"},{default:e(()=>[l(_(d(L)),1)]),_:1})]),_:1}),s(u,null,{default:e(()=>[s(i,{class:"p-4 font-semibold text-base",colspan:"2"},{default:e(()=>[l(" 5 ta fandan to'plangan ball:")]),_:1}),s(i,{class:"p-4 font-semibold text-base",colspan:"2"},{default:e(()=>[l(_(d(B)+d(L)),1)]),_:1})]),_:1})]}),_:1})]),_:1})]),s(te,{to:{path:"/compare",query:{dtmTestId:d(g).query.test_id}},class:"mx-auto"},{default:e(()=>[s(W,{class:"w-fit",onClick:r.goToCompareLink},{default:e(()=>[l("Solishtirish")]),_:1},8,["onClick"])]),_:1},8,["to"])])])])}}};export{Ge as default};
